<div class="block">
	<h1>{{$header}}</h1>
</div>

<div class="tab-content">
	<div class="block double-padded">
		<div class="fields">
			<div id="contact-info-block">
				<!-- Contents generated by JS later -->
			</div>
		</div>
		<div class="clear-left"></div>
	</div>
</div>

<div class="clear-left"></div>

<script type="text/javascript">
// contactEditor initialization code
$.wa.contactEditor.contact_id = null;
$.wa.contactEditor.current_user_id = null;
$.wa.contactEditor.contactType = '{{$contactType}}';
$.wa.contactEditor.limitedCategories = {{$limitedCategories}};
$.wa.contactEditor.initFactories({{json_encode($contactFields)}});
$.wa.contactEditor.initAllEditors();
$.wa.contactEditor.initContactInfoBlock('edit');
$.wa.controller.setBrowserTitle("{{$header}}");
$(function() {
	window.setTimeout(function() { // voodoo magic... does not work without setTimeout() in IE8.
		$.wa.contactEditor.fieldEditors.firstname.domElement.find('.val:visible')[0].focus();
	}, 1);
});
</script>

