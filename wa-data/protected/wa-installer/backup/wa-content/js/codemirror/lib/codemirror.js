var CodeMirror=function(){function B(b,e){function i(a){return a>=0&&a<t.size}function h(a){var c=t;for(a=a;!c.lines;)for(var d=0;;++d){var f=c.children[d],g=f.chunkSize();if(a<g){c=f;break}a-=g}return c.lines[a]}function k(a,c){ja=true;for(var d=c-a.height,f=a;f;f=f.parent)f.height+=d}function p(a){var c={line:0,ch:0};pa(c,{line:t.size-1,ch:h(t.size-1).text.length},Wa(a),c,c);wa=true}function q(a){if(!(n.onDragEvent&&n.onDragEvent(H,Xa(a)))){a.preventDefault();var c=Qa(a,true),d=a.dataTransfer.files;
if(!(!c||n.readOnly))if(d&&d.length&&window.FileReader&&window.File){a=function(r,s){var v=new FileReader;v.onload=function(){g[s]=v.result;if(++j==f){c=I(c);x(function(){var u=N(g.join(""),c,c);xa(c,u)})()}};v.readAsText(r)};for(var f=d.length,g=Array(f),j=0,l=0;l<f;++l)a(d[l],l)}else try{(g=a.dataTransfer.getData("Text"))&&sc(function(){var r=m.from,s=m.to;xa(c,c);Mb&&N("",r,s);Q(g);J()})}catch(o){}}}function y(a){var c=ka();a.dataTransfer.setData("Text",c);if(Ya||tc){c=document.createElement("img");
c.scr="data:image/gif;base64,R0lGODdhAgACAIAAAAAAAP///ywAAAAAAgACAAACAoRRADs=";a.dataTransfer.setDragImage(c,0,0)}}function G(a,c){if(typeof a=="string"){a=uc[a];if(!a)return false}var d=da;try{if(n.readOnly)pb=true;if(c)da=null;a(H)}catch(f){if(f!=vc)throw f;return false}finally{da=d;pb=false}return true}function aa(a){function c(){l=true}var d=Nb(n.keyMap),f=d.auto;clearTimeout(wc);if(f&&!Yc(a))wc=setTimeout(function(){if(Nb(n.keyMap)==d)n.keyMap=f.call?f.call(null,H):f},50);var g=Ja[X(a,"keyCode")],
j=false;if(g==null||a.altGraphKey)return false;if(X(a,"altKey"))g="Alt-"+g;if(X(a,"ctrlKey"))g="Ctrl-"+g;if(X(a,"metaKey"))g="Cmd-"+g;var l=false;j=X(a,"shiftKey")?qb("Shift-"+g,n.extraKeys,n.keyMap,function(o){return G(o,true)},c)||qb(g,n.extraKeys,n.keyMap,function(o){if(typeof o=="string"&&/^go[A-Z]/.test(o))return G(o)},c):qb(g,n.extraKeys,n.keyMap,G,c);if(l)j=false;if(j){R(a);rb();if(Ka){a.oldKeyCode=a.keyCode;a.keyCode=0}}return j}function ba(a,c){var d=qb("'"+c+"'",n.extraKeys,n.keyMap,function(f){return G(f,
true)});if(d){R(a);rb()}return d}function Za(a){ea||S();if(Ka&&a.keyCode==27)a.returnValue=false;if(Ra)if(ya())Ra=false;if(!(n.onKeyEvent&&n.onKeyEvent(H,Xa(a)))){var c=X(a,"keyCode");xc(c==16||X(a,"shiftKey"));var d=aa(a);if(window.opera){Ob=d?c:null;if(!d&&c==88&&X(a,Pb?"metaKey":"ctrlKey"))Q("")}}}function S(){if(n.readOnly!="nocursor"){if(!ea){n.onFocus&&n.onFocus(H);ea=true;if(K.className.search(/\bCodeMirror-focused\b/)==-1)K.className+=" CodeMirror-focused";$a||A(true)}za();rb()}}function fa(){if(ea){n.onBlur&&
n.onBlur(H);ea=false;Aa&&x(function(){if(Aa){Aa();Aa=null}})();K.className=K.className.replace(" CodeMirror-focused","")}clearInterval(Qb);setTimeout(function(){ea||(da=null)},150)}function pa(a,c,d,f,g){if(!pb){if(Y){var j=[];t.iter(a.line,c.line+1,function(l){j.push(l.text)});for(Y.addChange(a.line,d.length,j);Y.done.length>n.undoDepth;)Y.done.shift()}qa(a,c,d,f,g)}}function T(a,c){if(a.length){for(var d=a.pop(),f=[],g=d.length-1;g>=0;g-=1){var j=d[g],l=[],o=j.start+j.added;t.iter(j.start,o,function(s){l.push(s.text)});
f.push({start:j.start,added:j.old.length,old:l});var r=I({line:j.start+j.old.length-1,ch:Zc(l[l.length-1],j.old[j.old.length-1])});qa({line:j.start,ch:0},{line:o-1,ch:h(o-1).text.length},j.old,r,r)}wa=true;c.push(f)}}function qa(a,c,d,f,g){if(!pb){var j=false,l=ga.length;n.lineWrapping||t.iter(a.line,c.line+1,function(F){if(!F.hidden&&F.text.length==l)return j=true});if(a.line!=c.line||d.length>1)ja=true;var o=c.line-a.line,r=h(a.line),s=h(c.line);if(a.ch==0&&c.ch==0&&d[d.length-1]==""){var v=[];
r=null;if(a.line){r=h(a.line-1);r.fixMarkEnds(s)}else s.fixMarkStarts();for(var u=0,z=d.length-1;u<z;++u)v.push(Ba.inheritMarks(d[u],r));o&&t.remove(a.line,o,ab);v.length&&t.insert(a.line,v)}else if(r==s)if(d.length==1)r.replace(a.ch,c.ch,d[0]);else{s=r.split(c.ch,d[d.length-1]);r.replace(a.ch,null,d[0]);r.fixMarkEnds(s);v=[];u=1;for(z=d.length-1;u<z;++u)v.push(Ba.inheritMarks(d[u],r));v.push(s);t.insert(a.line+1,v)}else if(d.length==1){r.replace(a.ch,null,d[0]);s.replace(null,c.ch,"");r.append(s);
t.remove(a.line+1,o,ab)}else{v=[];r.replace(a.ch,null,d[0]);s.replace(null,c.ch,d[d.length-1]);r.fixMarkEnds(s);u=1;for(z=d.length-1;u<z;++u)v.push(Ba.inheritMarks(d[u],r));o>1&&t.remove(a.line+1,o-1,ab);t.insert(a.line+1,v)}if(n.lineWrapping){var O=Math.max(5,w.clientWidth/Rb()-3);t.iter(a.line,a.line+d.length,function(F){if(!F.hidden){var Ca=Math.ceil(F.text.length/O)||1;Ca!=F.height&&k(F,Ca)}})}else{t.iter(a.line,a.line+d.length,function(F){var Ca=F.text;if(!F.hidden&&Ca.length>l){ga=Ca;l=Ca.length;
ra=null;j=false}});if(j)bb=true}s=[];o=d.length-o-1;u=0;for(v=la.length;u<v;++u){z=la[u];if(z<a.line)s.push(z);else z>c.line&&s.push(z+o)}u=a.line+Math.min(d.length,500);$c(a.line,u);s.push(u);la=s;Sb(100);ha.push({from:a.line,to:c.line+1,diff:o});a={from:a,to:c,text:d};if(cb){for(d=cb;d.next;d=d.next);d.next=a}else cb=a;db(f,g,m.from.line<=Math.min(c.line,c.line+o)?m.from.line:m.from.line+o,m.to.line<=Math.min(c.line,c.line+o)?m.to.line:m.to.line+o);if(w.clientHeight)U.style.height=t.height*Da()+
2*C.offsetTop+"px"}}function eb(){var a=0;ga="";ra=null;t.iter(0,t.size,function(c){var d=c.text;if(!c.hidden&&d.length>a){a=d.length;ga=d}});bb=false}function N(a,c,d){function f(j){if(ma(j,c))return j;if(!ma(d,j))return g;var l=j.line+a.length-(d.line-c.line)-1,o=j.ch;if(j.line==d.line)o+=a[a.length-1].length-(d.ch-(d.line==c.line?c.ch:0));return{line:l,ch:o}}c=I(c);d=d?I(d):c;a=Wa(a);var g;Ea(a,c,d,function(j){g=j;return{from:f(m.from),to:f(m.to)}});return g}function Q(a,c){Ea(Wa(a),m.from,m.to,
function(d){return c=="end"?{from:d,to:d}:c=="start"?{from:m.from,to:m.from}:{from:m.from,to:d}})}function Ea(a,c,d,f){f=f({line:c.line+a.length-1,ch:a.length==1?a[0].length+c.ch:a[a.length-1].length});pa(c,d,a,f.from,f.to)}function sa(a,c){var d=a.line,f=c.line;if(d==f)return h(d).text.slice(a.ch,c.ch);var g=[h(d).text.slice(a.ch)];t.iter(d+1,f,function(j){g.push(j.text)});g.push(h(f).text.slice(0,c.ch));return g.join("\n")}function ka(){return sa(m.from,m.to)}function za(){Ra||Tb.set(n.pollInterval,
function(){Ub();ya();ea&&za();Vb()})}function na(){function a(){Ub();if(!ya()&&!c){c=true;Tb.set(60,a)}else{Ra=false;za()}Vb()}var c=false;Ra=true;Tb.set(20,a)}function ya(){if($a||!ea||ad(D)||n.readOnly)return false;var a=D.value;if(a==ta)return false;da=null;for(var c=0,d=Math.min(ta.length,a.length);c<d&&ta[c]==a[c];)++c;if(c<ta.length)m.from={line:m.from.line,ch:m.from.ch-(ta.length-c)};else if(sb&&L(m.from,m.to))m.to={line:m.to.line,ch:Math.min(h(m.to.line).text.length,m.to.ch+(a.length-c))};
Q(a.slice(c),"end");if(a.length>1E3)D.value=ta="";else ta=a;return true}function A(a){if(L(m.from,m.to)){if(a)ta=D.value=""}else{ta="";D.value=ka();yc(D)}}function J(){n.readOnly!="nocursor"&&D.focus()}function ia(){if(Z.getBoundingClientRect){var a=Z.getBoundingClientRect();if(!(Ka&&a.top==a.bottom)){var c=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);if(a.top<0||a.bottom>c)Z.scrollIntoView()}}}function W(){var a=ua(m.inverted?m.from:m.to),c=n.lineWrapping?
Math.min(a.x,C.offsetWidth):a.x;return La(c,a.y,c,a.yBot)}function La(a,c,d,f){var g=C.offsetLeft,j=C.offsetTop;c+=j;f+=j;a+=g;d+=g;var l=w.clientHeight,o=w.scrollTop;j=false;var r=true;if(c<o){w.scrollTop=Math.max(0,c);j=true}else if(f>o+l){w.scrollTop=f-l;j=true}c=w.clientWidth;f=w.scrollLeft;l=n.fixedGutter?V.clientWidth:0;g=a<l+g+10;if(a<f+l||g){if(g)a=0;w.scrollLeft=Math.max(0,a-10-l);j=true}else if(d>c+f-3){w.scrollLeft=d+10-c;j=true;if(d>U.clientWidth)r=false}j&&n.onScroll&&n.onScroll(H);return r}
function fb(){var a=Da(),c=w.scrollTop-C.offsetTop,d=Math.ceil((c+w.clientHeight)/a);return{from:Wb(t,Math.max(0,Math.floor(c/a))),to:Wb(t,d)}}function Ma(a,c){function d(){ra=w.clientWidth;var v=ca.firstChild,u=false;t.iter(P,$,function(z){if(!z.hidden){var O=Math.round(v.offsetHeight/s)||1;if(z.height!=O){k(z,O);ja=u=true}}v=v.nextSibling});if(u)U.style.height=t.height*s+2*C.offsetTop+"px";return u}if(w.clientWidth){var f=fb();if(!(a!==true&&a.length==0&&f.from>P&&f.to<$)){var g=Math.max(f.from-
100,0);f=Math.min(t.size,f.to+100);if(P<g&&g-P<20)g=P;if($>f&&$-f<20)f=Math.min(t.size,$);for(var j=a===true?[]:bd([{from:P,to:$,domStart:0}],a),l=0,o=0;o<j.length;++o){var r=j[o];if(r.from<g){r.domStart+=g-r.from;r.from=g}if(r.to>f)r.to=f;if(r.from>=r.to)j.splice(o--,1);else l+=r.to-r.from}if(!(l==f-g&&g==P&&f==$)){j.sort(function(v,u){return v.domStart-u.domStart});var s=Da();l=V.style.display;ca.style.display="none";cd(g,f,j);ca.style.display=V.style.display="";if(o=g!=P||f!=$||zc!=w.clientHeight+
s)zc=w.clientHeight+s;P=g;$=f;gb=Xb(t,g);tb.style.top=gb*s+"px";if(w.clientHeight)U.style.height=t.height*s+2*C.offsetTop+"px";if(ca.childNodes.length!=$-P)throw Error("BAD PATCH! "+JSON.stringify(j)+" size="+($-P)+" nodes="+ca.childNodes.length);if(n.lineWrapping)d();else{if(ra==null)ra=Yb(ga);if(ra>w.clientWidth){C.style.width=ra+"px";U.style.width="";U.style.width=w.scrollWidth+"px"}else C.style.width=U.style.width=""}V.style.display=l;if(o||ja)Zb()&&n.lineWrapping&&d()&&Zb();Ac();!c&&n.onUpdate&&
n.onUpdate(H);return true}}}else P=$=gb=0}function bd(a,c){for(var d=0,f=c.length||0;d<f;++d){for(var g=c[d],j=[],l=g.diff||0,o=0,r=a.length;o<r;++o){var s=a[o];if(g.to<=s.from&&g.diff)j.push({from:s.from+l,to:s.to+l,domStart:s.domStart});else if(g.to<=s.from||g.from>=s.to)j.push(s);else{g.from>s.from&&j.push({from:s.from,to:g.from,domStart:s.domStart});g.to<s.to&&j.push({from:g.to+l,to:s.to+l,domStart:s.domStart+(g.to-s.from)})}}a=j}return a}function cd(a,c,d){if(d.length){for(var f=function(u){var z=
u.nextSibling;u.parentNode.removeChild(u);return z},g=0,j=ca.firstChild,l=0;l<d.length;++l){for(var o=d[l];o.domStart>g;){j=f(j);g++}var r=0;for(o=o.to-o.from;r<o;++r){j=j.nextSibling;g++}}for(;j;)j=f(j)}else ca.innerHTML="";var s=d.shift();j=ca.firstChild;r=a;var v=document.createElement("div");t.iter(a,c,function(u){if(s&&s.to==r)s=d.shift();if(!s||s.from>r){if(u.hidden)var z=v.innerHTML="<pre></pre>";else{z="<pre"+(u.className?' class="'+u.className+'"':"")+">"+u.getHTML(Bc)+"</pre>";if(u.bgClassName)z=
'<div style="position: relative"><pre class="'+u.bgClassName+'" style="position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2">&#160;</pre>'+z+"</div>"}v.innerHTML=z;ca.insertBefore(v.firstChild,j)}else j=j.nextSibling;++r})}function Zb(){if(n.gutter||n.lineNumbers){var a=tb.offsetHeight,c=w.clientHeight;V.style.height=(a-c<2?c:a)+"px";var d=[],f=P,g;t.iter(P,Math.max($,P+1),function(o){if(o.hidden)d.push("<pre></pre>");else{var r=o.gutterMarker,s=n.lineNumbers?f+n.firstLineNumber:
null;if(r&&r.text)s=r.text.replace("%N%",s!=null?s:"");else if(s==null)s="\u00a0";d.push(r&&r.style?'<pre class="'+r.style+'">':"<pre>",s);for(s=1;s<o.height;++s)d.push("<br/>&#160;");d.push("</pre>");r||(g=f)}++f});V.style.display="none";hb.innerHTML=d.join("");if(g!=null){a=hb.childNodes[g-P];c=String(t.size).length;for(var j=a.textContent||a.innerText||a.nodeValue||"",l="";j.length+l.length<c;)l+="\u00a0";l&&a.insertBefore(document.createTextNode(l),a.firstChild)}V.style.display="";a=Math.abs((parseInt(C.style.marginLeft)||
0)-V.offsetWidth)>2;C.style.marginLeft=V.offsetWidth+"px";ja=false;return a}}function Ac(){var a=L(m.from,m.to),c=ua(m.from,true),d=a?c:ua(m.to,true),f=m.inverted?c:d,g=Da(),j=Na(K),l=Na(ca);Oa.style.top=Math.max(0,Math.min(w.offsetHeight,f.y+l.top-j.top))+"px";Oa.style.left=Math.max(0,Math.min(w.offsetWidth,f.x+l.left-j.left))+"px";if(a){Z.style.top=f.y+"px";Z.style.left=(n.lineWrapping?Math.min(f.x,C.offsetWidth):f.x)+"px";Z.style.display="";ub.style.display="none"}else{a=c.y==d.y;var o="",r=C.clientWidth||
C.offsetWidth;f=C.clientHeight||C.offsetHeight;j=function(s,v,u,z){o+='<div class="CodeMirror-selected" style="position: absolute; left: '+s+"px; top: "+v+"px; "+(dd?"width: "+(!u?r:r-u-s)+"px":"right: "+u+"px")+"; height: "+z+'px"></div>'};if(m.from.ch&&c.y>=0)j(c.x,c.y,a?r-d.x:0,g);c=Math.max(0,c.y+(m.from.ch?g:0));l=Math.min(d.y,f)-c;l>0.2*g&&j(0,c,0,l);if((!a||!m.from.ch)&&d.y<f-0.5*g)j(0,d.y,r-d.x,g);ub.innerHTML=o;Z.style.display="none";ub.style.display=""}}function xc(a){da=a?da||(m.inverted?
m.to:m.from):null}function xa(a,c){var d=da&&I(da);if(d)if(ma(d,a))a=d;else if(ma(c,d))c=d;db(a,c);vb=true}function db(a,c,d,f){wb=null;if(d==null){d=m.from.line;f=m.to.line}if(!(L(m.from,a)&&L(m.to,c))){if(ma(c,a)){var g=c;c=a;a=g}if(a.line!=d)if(d=xb(a,d,m.from.ch))a=d;else $b(a.line,false);if(c.line!=f)c=xb(c,f,m.to.ch);if(L(a,c))m.inverted=false;else if(L(a,m.to))m.inverted=false;else if(L(c,m.from))m.inverted=true;if(n.autoClearEmptyLines&&L(m.from,m.to))if((m.inverted?a:c).line!=m.from.line&&
m.from.line<t.size){var j=h(m.from.line);/^\s+$/.test(j.text)&&setTimeout(x(function(){if(j.parent&&/^\s+$/.test(j.text)){var l=Sa(j);N("",{line:l,ch:0},{line:l,ch:j.text.length})}},10))}m.from=a;m.to=c;Fa=true}}function xb(a,c,d){function f(l){for(var o=a.line+l,r=l==1?t.size:-1;o!=r;){var s=h(o);if(!s.hidden){l=a.ch;if(j||l>d||l>s.text.length)l=s.text.length;return{line:o,ch:l}}o+=l}}var g=h(a.line),j=a.ch==g.text.length&&a.ch!=d;if(!g.hidden)return a;return a.line>=c?f(1)||f(-1):f(-1)||f(1)}function Ga(a,
c,d){a=I({line:a,ch:c||0});(d?xa:db)(a,a)}function yb(a){return Math.max(0,Math.min(a,t.size-1))}function I(a){if(a.line<0)return{line:0,ch:0};if(a.line>=t.size)return{line:t.size-1,ch:h(t.size-1).text.length};var c=a.ch,d=h(a.line).text.length;return c==null||c>d?{line:a.line,ch:d}:c<0?{line:a.line,ch:0}:a}function ac(a,c){function d(o){if(j==(a<0?0:l.text.length)){if(o=!o)a:{o=g+a;for(var r=a<0?-1:t.size;o!=r;o+=a){var s=h(o);if(!s.hidden){g=o;l=s;o=true;break a}}o=void 0}if(o)j=a<0?l.text.length:
0;else return false}else j+=a;return true}var f=m.inverted?m.from:m.to,g=f.line,j=f.ch,l=h(g);if(c=="char")d();else if(c=="column")d(true);else if(c=="word")for(f=false;;){if(a<0)if(!d())break;if(bc(l.text.charAt(j)))f=true;else if(f){if(a<0){a=1;d()}break}if(a>0)if(!d())break}return{line:g,ch:j}}function Cc(a){for(var c=h(a.line).text,d=a.ch,f=a.ch;d>0&&bc(c.charAt(d-1));)--d;for(;f<c.length&&bc(c.charAt(f));)++f;xa({line:a.line,ch:d},{line:a.line,ch:f})}function ed(a){xa({line:a,ch:0},I({line:a+
1,ch:0}))}function zb(a,c){c||(c="add");if(c=="smart")if(M.indent)var d=Ab(a);else c="prev";var f=h(a),g=f.indentation(n.tabSize),j=f.text.match(/^\s*/)[0],l;if(c=="prev")l=a?h(a-1).indentation(n.tabSize):0;else if(c=="smart")l=M.indent(d,f.text.slice(j.length),f.text);else if(c=="add")l=g+n.indentUnit;else if(c=="subtract")l=g-n.indentUnit;l=Math.max(0,l);if(l-g){g="";d=0;if(n.indentWithTabs)for(f=Math.floor(l/n.tabSize);f;--f){d+=n.tabSize;g+="\t"}for(;d<l;){++d;g+=" "}}else{if(m.from.line!=a&&
m.to.line!=a)return;g=j}N(g,{line:a,ch:0},{line:a,ch:j.length})}function Dc(){M=B.getMode(n,n.mode);t.iter(0,t.size,function(a){a.stateAfter=null});la=[0];Sb()}function fd(){if(n.lineWrapping){K.className+=" CodeMirror-wrap";var a=w.clientWidth/Rb()-3;t.iter(0,t.size,function(c){if(!c.hidden){var d=Math.ceil(c.text.length/a)||1;d!=1&&k(c,d)}});C.style.width=U.style.width=""}else{K.className=K.className.replace(" CodeMirror-wrap","");ra=null;ga="";t.iter(0,t.size,function(c){c.height!=1&&!c.hidden&&
k(c,1);if(c.text.length>ga.length)ga=c.text})}ha.push({from:0,to:t.size})}function Bc(a){a=n.tabSize-a%n.tabSize;var c=Ec[a];if(c)return c;c='<span class="cm-tab">';for(var d=0;d<a;++d)c+=" ";return Ec[a]={html:c+"</span>",width:a}}function Fc(){w.className=w.className.replace(/\s*cm-s-\S+/g,"")+n.theme.replace(/(^|\s)\s*/g," cm-s-")}function Gc(){var a=va[n.keyMap].style;K.className=K.className.replace(/\s*cm-keymap-\S+/g,"")+(a?" cm-keymap-"+a:"")}function cc(){this.set=[]}function dc(a,c,d){function f(o,
r,s,v){h(o).addMark(new Bb(r,s,v,g))}a=I(a);c=I(c);var g=new cc;if(!ma(a,c))return g;if(a.line==c.line)f(a.line,a.ch,c.ch,d);else{f(a.line,a.ch,null,d);for(var j=a.line+1,l=c.line;j<l;++j)f(j,null,null,d);f(c.line,null,c.ch,d)}ha.push({from:a.line,to:c.line+1});return g}function Hc(a,c){var d=a,f=a;if(typeof a=="number")f=h(yb(a));else d=Sa(a);if(d==null)return null;if(c(f,d))ha.push({from:d,to:d+1});else return null;return f}function $b(a,c){return Hc(a,function(d,f){if(d.hidden!=c){d.hidden=c;if(!n.lineWrapping){var g=
d.text;if(c&&g.length==ga.length)bb=true;else if(!c&&g.length>ga.length){ga=g;ra=null;bb=false}}k(d,c?0:1);var j=m.from.line;g=m.to.line;if(c&&(j==f||g==f)){j=j==f?xb({line:j,ch:0},j,0):m.from;g=g==f?xb({line:g,ch:0},g,0):m.to;if(!g)return;db(j,g)}return ja=true}})}function Yb(a){Ha.innerHTML="<pre><span>x</span></pre>";Ha.firstChild.firstChild.firstChild.nodeValue=a;return Ha.firstChild.firstChild.offsetWidth||10}function Ic(a,c){if(c==0)return{top:0,left:0};var d=n.lineWrapping&&c<a.text.length&&
Cb.test(a.text.slice(c-1,c+1));Ha.innerHTML="<pre>"+a.getHTML(Bc,c,Jc,d)+"</pre>";d=document.getElementById(Jc);var f=d.offsetTop,g=d.offsetLeft;if(Ka&&f==0&&g==0){f=document.createElement("span");f.innerHTML="x";d.parentNode.insertBefore(f,d.nextSibling);f=f.offsetTop}return{top:f,left:g}}function ua(a,c){var d,f=Da(),g=f*(Xb(t,a.line)-(c?gb:0));if(a.ch==0)d=0;else{var j=Ic(h(a.line),a.ch);d=j.left;if(n.lineWrapping)g+=Math.max(0,j.top)}return{x:d,y:g,yBot:g+f}}function ec(a,c){function d(F){F=Ic(o,
F);if(s)return Math.max(0,F.left+(Math.round(F.top/f)-v)*w.clientWidth);return F.left}if(c<0)c=0;var f=Da(),g=Rb(),j=gb+Math.floor(c/f),l=Wb(t,j);if(l>=t.size)return{line:t.size-1,ch:h(t.size-1).text.length};var o=h(l),r=o.text,s=n.lineWrapping,v=s?j-Xb(t,l):0;if(a<=0&&v==0)return{line:l,ch:0};var u=j=0;r=r.length;var z;for(g=Math.min(r,Math.ceil((a+v*w.clientWidth*0.9)/g));;){var O=d(g);if(O<=a&&g<r)g=Math.min(r,Math.ceil(g*1.2));else{z=O;r=g;break}}if(a>z)return{line:l,ch:r};g=Math.floor(r*0.8);
O=d(g);if(O<a){j=g;u=O}for(;;){if(r-j<=1)return{line:l,ch:z-a>a-u?j:r};g=Math.ceil((j+r)/2);O=d(g);if(O>a){r=g;z=O}else{j=g;u=O}}}function Da(){if(ib==null){ib="<pre>";for(var a=0;a<49;++a)ib+="x<br/>";ib+="x</pre>"}a=ca.clientHeight;if(a==Kc)return fc;Kc=a;Ha.innerHTML=ib;fc=Ha.firstChild.offsetHeight/50||1;Ha.innerHTML="";return fc}function Rb(){if(w.clientWidth==Lc)return Mc;Lc=w.clientWidth;return Mc=Yb("x")}function Qa(a,c){var d=Na(w,true),f,g;try{f=a.clientX;g=a.clientY}catch(j){return null}if(!c&&
(f-d.left>w.clientWidth||g-d.top>w.clientHeight))return null;d=Na(C,true);return ec(f-d.left,g-d.top)}function Nc(a){function c(){var o=Wa(D.value).join("\n");o!=j&&x(Q)(o,"end");Oa.style.position="relative";D.style.cssText=g;if(Oc)w.scrollTop=f;$a=false;A(true);za()}var d=Qa(a),f=w.scrollTop;if(!(!d||window.opera)){if(L(m.from,m.to)||ma(d,m.from)||!ma(d,m.to))x(Ga)(d.line,d.ch);var g=D.style.cssText;Oa.style.position="absolute";D.style.cssText="position: fixed; width: 30px; height: 30px; top: "+
(a.clientY-5)+"px; left: "+(a.clientX-5)+"px; z-index: 1000; background: white; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";$a=true;var j=D.value=ka();J();yc(D);if(Ya){Db(a);var l=E(window,"mouseup",function(){l();setTimeout(c,20)},true)}else setTimeout(c,50)}}function rb(){clearInterval(Qb);var a=true;Z.style.visibility="";Qb=setInterval(function(){Z.style.visibility=(a=!a)?"":"hidden"},650)}function Pc(a){function c(oa,gd,hd){if(oa.text){var jb=oa.styles;
oa=l?0:oa.text.length-1;for(var gc,kb=l?0:jb.length-2,id=l?jb.length:-2;kb!=id;kb+=2*o){var Eb=jb[kb];if(jb[kb+1]!=null&&jb[kb+1]!=u)oa+=o*Eb.length;else for(var hc=l?0:Eb.length-1,jd=l?Eb.length:-1;hc!=jd;hc+=o,oa+=o)if(oa>=gd&&oa<hd&&O.test(gc=Eb.charAt(hc))){var Qc=ic[gc];if(Qc.charAt(1)==">"==l)z.push(gc);else if(z.pop()!=Qc.charAt(0))return{pos:oa,match:false};else if(!z.length)return{pos:oa,match:true}}}}}var d=m.inverted?m.from:m.to,f=h(d.line),g=d.ch-1,j=g>=0&&ic[f.text.charAt(g)]||ic[f.text.charAt(++g)];
if(j){j.charAt(0);var l=j.charAt(1)==">",o=l?1:-1,r=f.styles,s=g+1;j=0;for(var v=r.length;j<v;j+=2)if((s-=r[j].length)<=0){var u=r[j+1];break}var z=[f.text.charAt(g)],O=/[(){}[\]]/;j=d.line;for(v=l?Math.min(j+100,t.size):Math.max(-1,j-100);j!=v;j+=o){f=h(j);var F=j==d.line;if(F=c(f,F&&l?g+1:0,F&&!l?g:f.text.length))break}F||(F={pos:null,match:false});u=F.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";var Ca=dc({line:d.line,ch:g},{line:d.line,ch:g+1},u),Rc=F.pos!=null&&dc({line:j,
ch:F.pos},{line:j,ch:F.pos+1},u);d=x(function(){Ca.clear();Rc&&Rc.clear()});if(a)setTimeout(d,800);else Aa=d}}function Sc(a){var c,d,f=a;for(a=a-40;f>a;--f){if(f==0)return 0;var g=h(f-1);if(g.stateAfter)return f;g=g.indentation(n.tabSize);if(d==null||c>g){d=f-1;c=g}}return d}function Ab(a){var c=Sc(a),d=c&&h(c-1).stateAfter;d=d?Ta(M,d):jc(M);t.iter(c,a,function(f){f.highlight(M,d,n.tabSize);f.stateAfter=Ta(M,d)});c<a&&ha.push({from:c,to:a});a<t.size&&!h(a).stateAfter&&la.push(a);return d}function $c(a,
c){var d=Ab(a);t.iter(a,c,function(f){f.highlight(M,d,n.tabSize);f.stateAfter=Ta(M,d)})}function kd(){for(var a=+new Date+n.workTime,c=la.length;la.length;){var d=h(P).stateAfter?la.pop():P;if(!(d>=t.size)){var f=Sc(d),g=f&&h(f-1).stateAfter;g=g?Ta(M,g):jc(M);var j=0,l=M.compareStates,o=false,r=f,s=false;t.iter(r,t.size,function(v){var u=v.stateAfter;if(+new Date>a){la.push(r);Sb(n.workDelay);o&&ha.push({from:d,to:r+1});return s=true}var z=v.highlight(M,g,n.tabSize);if(z)o=true;v.stateAfter=Ta(M,
g);v=null;if(l){var O=u&&l(u,g);if(O!=vc)v=!!O}if(v==null)if(z!==false||!u)j=0;else if(++j>3&&(!M.indent||M.indent(u,"")==M.indent(g,"")))v=true;if(v)return true;++r});if(s)return;o&&ha.push({from:d,to:r+1})}}c&&n.onHighlightComplete&&n.onHighlightComplete(H)}function Sb(a){la.length&&ld.set(a,x(kd))}function Ub(){wa=vb=cb=null;ha=[];Fa=false;ab=[]}function Vb(){var a=false,c;bb&&eb();if(Fa)a=!W();if(ha.length)c=Ma(ha,true);else{Fa&&Ac();ja&&Zb()}a&&W();if(Fa){ia();rb()}if(ea&&!$a&&(wa===true||wa!==
false&&Fa))A(vb);Fa&&n.matchBrackets&&setTimeout(x(function(){if(Aa){Aa();Aa=null}L(m.from,m.to)&&Pc(false)}),20);var d=cb;a=ab;Fa&&n.onCursorActivity&&n.onCursorActivity(H);d&&n.onChange&&H&&n.onChange(H,d);for(d=0;d<a.length;++d)a[d](H);c&&n.onUpdate&&n.onUpdate(H)}function x(a){return function(){Tc++||Ub();try{var c=a.apply(this,arguments)}finally{--Tc||Vb()}return c}}function sc(a){Y.startCompound();try{return a()}finally{Y.endCompound()}}var n={},Ua=B.defaults,lb;for(lb in Ua)if(Ua.hasOwnProperty(lb))n[lb]=
(e&&e.hasOwnProperty(lb)?e:Ua)[lb];var K=document.createElement("div");K.className="CodeMirror"+(n.lineWrapping?" CodeMirror-wrap":"");K.innerHTML='<div style="overflow: hidden; position: relative; width: 3px; height: 0px;"><textarea style="position: absolute; padding: 0; width: 1px; height: 1em" wrap="off" autocorrect="off" autocapitalize="off"></textarea></div><div class="CodeMirror-scroll" tabindex="-1"><div style="position: relative"><div style="position: relative"><div class="CodeMirror-gutter"><div class="CodeMirror-gutter-text"></div></div><div class="CodeMirror-lines"><div style="position: relative; z-index: 0"><div style="position: absolute; width: 100%; height: 0; overflow: hidden; visibility: hidden;"></div><pre class="CodeMirror-cursor">&#160;</pre><div style="position: relative; z-index: -1"></div><div></div></div></div></div></div></div>';
b.appendChild?b.appendChild(K):b(K);var Oa=K.firstChild,D=Oa.firstChild,w=K.lastChild,U=w.firstChild,tb=U.firstChild,V=tb.firstChild,hb=V.firstChild,C=V.nextSibling.firstChild,Ha=C.firstChild,Z=Ha.nextSibling,ub=Z.nextSibling,ca=ub.nextSibling;Fc();Gc();if(kc)D.style.width="0px";if(!lc)C.draggable=true;C.style.outline="none";if(n.tabindex!=null)D.tabIndex=n.tabindex;n.autofocus&&J();if(!n.gutter&&!n.lineNumbers)V.style.display="none";if(mc){Oa.style.height="1px";Oa.style.position="absolute"}try{Yb("x")}catch(nc){if(nc.message.match(/runtime/i))nc=
Error("A CodeMirror inside a P-style element does not work in Internet Explorer. (innerHTML bug)");throw nc;}var Tb=new oc,ld=new oc,Qb,M,t=new Fb([new Gb([new Ba("")])]),la,ea;Dc();var m={from:{line:0,ch:0},to:{line:0,ch:0},inverted:false},da,Hb,mb,pc=0,Mb,sb=false,pb=false,wa,vb,ha,cb,Fa,$a,ja,ab,bb,gb=0,P=0,$=0,zc=0,Aa,ga="",ra,Ec={};x(function(){p(n.value||"");wa=false})();var Y=new qc;E(w,"mousedown",x(function(a){function c(v){var u=Qa(v,true);if(u&&!L(u,j)){ea||S();j=u;xa(g,u);wa=false;var z=
fb();if(u.line>=z.to||u.line<z.from)l=setTimeout(x(function(){c(v)}),150)}}function d(v){clearTimeout(l);var u=Qa(v);u&&xa(g,u);R(v);J();wa=true;s();o()}xc(X(a,"shiftKey"));for(var f=a.target||a.srcElement;f!=K;f=f.parentNode)if(f.parentNode==U&&f!=tb)return;for(f=a.target||a.srcElement;f!=K;f=f.parentNode)if(f.parentNode==hb){n.onGutterClick&&n.onGutterClick(H,nb(hb.childNodes,f)+P,a);return R(a)}var g=Qa(a);switch(Uc(a)){case 3:Ya&&!Pb&&Nc(a);return;case 2:g&&Ga(g.line,g.ch,true);setTimeout(J,20);
return}if(g){ea||S();f=+new Date;if(mb&&mb.time>f-400&&L(mb.pos,g)){R(a);setTimeout(J,20);return ed(g.line)}else if(Hb&&Hb.time>f-400&&L(Hb.pos,g)){mb={time:f,pos:g};R(a);return Cc(g)}else Hb={time:f,pos:g};var j=g,l;if(n.dragDrop&&md&&!n.readOnly&&!L(m.from,m.to)&&!ma(g,m.from)&&!ma(m.to,g)){if(lc)C.draggable=true;f=function(v){if(lc)C.draggable=false;Mb=false;o();r();if(Math.abs(a.clientX-v.clientX)+Math.abs(a.clientY-v.clientY)<10){R(v);Ga(g.line,g.ch,true);J()}};var o=E(document,"mouseup",x(f),
true),r=E(w,"drop",x(f),true);Mb=true;C.dragDrop&&C.dragDrop()}else{R(a);Ga(g.line,g.ch,true);var s=E(document,"mousemove",x(function(v){clearTimeout(l);R(v);!Ka&&!Uc(v)?d(v):c(v)}),true);o=E(document,"mouseup",x(d),true)}}else(a.target||a.srcElement)==w&&R(a)}));E(w,"dblclick",x(function(a){for(var c=a.target||a.srcElement;c!=K;c=c.parentNode)if(c.parentNode==hb)return R(a);if(c=Qa(a)){mb={time:+new Date,pos:c};R(a);Cc(c)}}));E(C,"selectstart",R);Ya||E(w,"contextmenu",Nc);E(w,"scroll",function(){pc=
w.scrollTop;Ma([]);if(n.fixedGutter)V.style.left=w.scrollLeft+"px";n.onScroll&&n.onScroll(H)});E(window,"resize",function(){Ma(true)});E(D,"keyup",x(function(a){if(!(n.onKeyEvent&&n.onKeyEvent(H,Xa(a))))if(X(a,"keyCode")==16)da=null}));E(D,"input",na);E(D,"keydown",x(Za));E(D,"keypress",x(function(a){Ra&&ya();if(!(n.onKeyEvent&&n.onKeyEvent(H,Xa(a)))){var c=X(a,"keyCode"),d=X(a,"charCode");if(window.opera&&c==Ob){Ob=null;R(a)}else if(!((window.opera&&(!a.which||a.which<10)||mc)&&aa(a))){c=String.fromCharCode(d==
null?c:d);n.electricChars&&M.electricChars&&n.smartIndent&&!n.readOnly&&M.electricChars.indexOf(c)>-1&&setTimeout(x(function(){zb(m.to.line,"smart")}),75);ba(a,c)||na()}}}));E(D,"focus",S);E(D,"blur",fa);if(n.dragDrop){E(C,"dragstart",y);Ua=function(a){n.onDragEvent&&n.onDragEvent(H,Xa(a))||Db(a)};E(w,"dragenter",Ua);E(w,"dragover",Ua);E(w,"drop",x(q))}E(w,"paste",function(){J();na()});E(D,"paste",na);E(D,"cut",x(function(){n.readOnly||Q("")}));mc&&E(U,"mouseup",function(){document.activeElement==
D&&D.blur();J()});var Vc;try{Vc=document.activeElement==D}catch(pd){}Vc||n.autofocus?setTimeout(S,20):fa();var H=K.CodeMirror={getValue:function(){var a=[];t.iter(0,t.size,function(c){a.push(c.text)});return a.join("\n")},setValue:x(p),getSelection:ka,replaceSelection:x(Q),focus:function(){window.focus();J();S();na()},setOption:function(a,c){var d=n[a];n[a]=c;if(a=="mode"||a=="indentUnit")Dc();else if(a=="readOnly"&&c=="nocursor"){fa();D.blur()}else if(a=="readOnly"&&!c)A(true);else if(a=="theme")Fc();
else if(a=="lineWrapping"&&d!=c)x(fd)();else if(a=="tabSize")Ma(true);else a=="keyMap"&&Gc();if(a=="lineNumbers"||a=="gutter"||a=="firstLineNumber"||a=="theme"){d=n.gutter||n.lineNumbers;V.style.display=d?"":"none";if(d)ja=true;else ca.parentNode.style.marginLeft=0;Ma(true)}},getOption:function(a){return n[a]},undo:x(function(){T(Y.done,Y.undone)}),redo:x(function(){T(Y.undone,Y.done)}),indentLine:x(function(a,c){if(typeof c!="string")c=c==null?n.smartIndent?"smart":"prev":c?"add":"subtract";i(a)&&
zb(a,c)}),indentSelection:x(function(a){if(L(m.from,m.to))return zb(m.from.line,a);for(var c=m.to.line-(m.to.ch?0:1),d=m.from.line;d<=c;++d)zb(d,a)}),historySize:function(){return{undo:Y.done.length,redo:Y.undone.length}},clearHistory:function(){Y=new qc},matchBrackets:x(function(){Pc(true)}),getTokenAt:x(function(a){a=I(a);return h(a.line).getTokenAt(M,Ab(a.line),a.ch)}),getStateAfter:function(a){a=yb(a==null?t.size-1:a);return Ab(a+1)},cursorCoords:function(a,c){if(a==null)a=m.inverted;return this.charCoords(a?
m.from:m.to,c)},charCoords:function(a,c){a=I(a);if(c=="local")return ua(a,false);if(c=="div")return ua(a,true);var d=ua(a,true),f=Na(C);return{x:f.left+d.x,y:f.top+d.y,yBot:f.top+d.yBot}},coordsChar:function(a){var c=Na(C);return ec(a.x-c.left,a.y-c.top)},markText:x(dc),setBookmark:function(a){a=I(a);var c=new Wc(a.ch);h(a.line).addMark(c);return c},findMarksAt:function(a){a=I(a);var c=[],d=h(a.line).marked;if(!d)return c;for(var f=0,g=d.length;f<g;++f){var j=d[f];if((j.from==null||j.from<=a.ch)&&
(j.to==null||j.to>=a.ch))c.push(j.marker||j)}return c},setMarker:x(function(a,c,d){if(typeof a=="number")a=h(yb(a));a.gutterMarker={text:c,style:d};ja=true;return a}),clearMarker:x(function(a){if(typeof a=="number")a=h(yb(a));a.gutterMarker=null;ja=true}),setLineClass:x(function(a,c,d){return Hc(a,function(f){if(f.className!=c||f.bgClassName!=d){f.className=c;f.bgClassName=d;return true}})}),hideLine:x(function(a){return $b(a,true)}),showLine:x(function(a){return $b(a,false)}),onDeleteLine:function(a,
c){if(typeof a=="number"){if(!i(a))return null;a=h(a)}(a.handlers||(a.handlers=[])).push(c);return a},lineInfo:function(a){if(typeof a=="number"){if(!i(a))return null;var c=a;a=h(a);if(!a)return null}else{c=Sa(a);if(c==null)return null}var d=a.gutterMarker;return{line:c,handle:a,text:a.text,markerText:d&&d.text,markerClass:d&&d.style,lineClass:a.className,bgClass:a.bgClassName}},addWidget:function(a,c,d,f,g){a=ua(I(a));var j=a.yBot,l=a.x;c.style.position="absolute";U.appendChild(c);if(f=="over")j=
a.y;else if(f=="near"){f=Math.max(w.offsetHeight,t.height*Da());var o=Math.max(U.clientWidth,C.clientWidth)-C.offsetLeft;if(a.yBot+c.offsetHeight>f&&a.y>c.offsetHeight)j=a.y-c.offsetHeight;if(l+c.offsetWidth>o)l=o-c.offsetWidth}c.style.top=j+C.offsetTop+"px";c.style.left=c.style.right="";if(g=="right"){l=U.clientWidth-c.offsetWidth;c.style.right="0px"}else{if(g=="left")l=0;else if(g=="middle")l=(U.clientWidth-c.offsetWidth)/2;c.style.left=l+C.offsetLeft+"px"}d&&La(l,j,l+c.offsetWidth,j+c.offsetHeight)},
lineCount:function(){return t.size},clipPos:I,getCursor:function(a){if(a==null)a=m.inverted;return{line:(a?m.from:m.to).line,ch:(a?m.from:m.to).ch}},somethingSelected:function(){return!L(m.from,m.to)},setCursor:x(function(a,c,d){c==null&&typeof a.line=="number"?Ga(a.line,a.ch,d):Ga(a,c,d)}),setSelection:x(function(a,c,d){(d?xa:db)(I(a),I(c||a))}),getLine:function(a){if(i(a))return h(a).text},getLineHandle:function(a){if(i(a))return h(a)},setLine:x(function(a,c){i(a)&&N(c,{line:a,ch:0},{line:a,ch:h(a).text.length})}),
removeLine:x(function(a){i(a)&&N("",{line:a,ch:0},I({line:a+1,ch:0}))}),replaceRange:x(N),getRange:function(a,c){return sa(I(a),I(c))},triggerOnKeyDown:x(Za),execCommand:function(a){return uc[a](H)},moveH:x(function(a,c){var d=a<0?m.from:m.to;if(da||L(m.from,m.to))d=ac(a,c);Ga(d.line,d.ch,true)}),deleteH:x(function(a,c){if(L(m.from,m.to))a<0?N("",ac(a,c),m.to):N("",m.from,ac(a,c));else N("",m.from,m.to);vb=true}),moveV:x(function(a,c){var d=0,f=ua(m.inverted?m.from:m.to,true);if(wb!=null)f.x=wb;if(c==
"page")d=Math.min(w.clientHeight,window.innerHeight||document.documentElement.clientHeight);else if(c=="line")d=Da();d=ec(f.x,f.y+d*a+2);if(c=="page")w.scrollTop+=ua(d,true).y-f.y;Ga(d.line,d.ch,true);wb=f.x}),toggleOverwrite:function(){if(sb){sb=false;Z.className=Z.className.replace(" CodeMirror-overwrite","")}else{sb=true;Z.className+=" CodeMirror-overwrite"}},posFromIndex:function(a){var c=0,d;t.iter(0,t.size,function(f){f=f.text.length+1;if(f>a){d=a;return true}a-=f;++c});return I({line:c,ch:d})},
indexFromPos:function(a){if(a.line<0||a.ch<0)return 0;var c=a.ch;t.iter(0,a.line,function(d){c+=d.text.length+1});return c},scrollTo:function(a,c){if(a!=null)w.scrollLeft=a;if(c!=null)w.scrollTop=c;Ma([])},operation:function(a){return x(a)()},compoundChange:function(a){return sc(a)},refresh:function(){Ma(true);if(w.scrollHeight>pc)w.scrollTop=pc},getInputField:function(){return D},getWrapperElement:function(){return K},getScrollerElement:function(){return w},getGutterElement:function(){return V}},
Ob=null,wc,Ra=false,ta="",wb=null;cc.prototype.clear=x(function(){for(var a=Infinity,c=-Infinity,d=0,f=this.set.length;d<f;++d){var g=this.set[d],j=g.marked;if(j&&g.parent){g=Sa(g);a=Math.min(a,g);c=Math.max(c,g);for(g=0;g<j.length;++g)j[g].marker==this&&j.splice(g--,1)}}a!=Infinity&&ha.push({from:a,to:c+1})});cc.prototype.find=function(){for(var a,c,d=0,f=this.set.length;d<f;++d)for(var g=this.set[d],j=g.marked,l=0;l<j.length;++l){var o=j[l];if(o.marker==this)if(o.from!=null||o.to!=null){var r=Sa(g);
if(r!=null){if(o.from!=null)a={line:r,ch:o.from};if(o.to!=null)c={line:r,ch:o.to}}}}return{from:a,to:c}};var Jc="CodeMirror-temp-"+Math.floor(Math.random()*16777215).toString(16),fc,Kc,ib,Mc,Lc=0,ic={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},Tc=0,ob;for(ob in Ib)if(Ib.propertyIsEnumerable(ob)&&!H.propertyIsEnumerable(ob))H[ob]=Ib[ob];return H}function Nb(b){return typeof b=="string"?va[b]:b}function qb(b,e,i,h,k){function p(q){q=Nb(q);var y=q[b];if(y!=null&&h(y))return true;if(q.nofallthrough){k&&
k();return true}q=q.fallthrough;if(q==null)return false;if(Object.prototype.toString.call(q)!="[object Array]")return p(q);y=0;for(var G=q.length;y<G;++y)if(p(q[y]))return true;return false}if(e&&p(e))return true;return p(i)}function Yc(b){b=Ja[X(b,"keyCode")];return b=="Ctrl"||b=="Alt"||b=="Shift"||b=="Mod"}function Ta(b,e){if(e===true)return e;if(b.copyState)return b.copyState(e);var i={},h;for(h in e){var k=e[h];if(k instanceof Array)k=k.concat([]);i[h]=k}return i}function jc(b,e,i){return b.startState?
b.startState(e,i):true}function Jb(b,e){this.pos=this.start=0;this.string=b;this.tabSize=e||8}function Bb(b,e,i,h){this.from=b;this.to=e;this.style=i;this.marker=h}function Wc(b){this.to=this.from=b;this.line=null}function Ba(b,e){this.styles=e||[b,null];this.text=b;this.height=1;this.stateAfter=this.parent=this.hidden=this.marked=this.gutterMarker=this.className=this.bgClassName=this.handlers=null}function Kb(b,e,i,h){for(var k=0,p=0,q=0;p<e;k+=2){var y=i[k],G=p+y.length;if(q==0){G>b&&h.push(y.slice(b-
p,Math.min(y.length,e-p)),i[k+1]);if(G>=b)q=1}else if(q==1)G>e?h.push(y.slice(0,e-p),i[k+1]):h.push(y,i[k+1]);p=G}}function Gb(b){this.lines=b;this.parent=null;for(var e=0,i=b.length,h=0;e<i;++e){b[e].parent=this;h+=b[e].height}this.height=h}function Fb(b){this.children=b;for(var e=0,i=0,h=0,k=b.length;h<k;++h){var p=b[h];e+=p.chunkSize();i+=p.height;p.parent=this}this.size=e;this.height=i;this.parent=null}function Sa(b){if(b.parent==null)return null;var e=b.parent;b=nb(e.lines,b);for(var i=e.parent;i;e=
i,i=i.parent)for(var h=0;;++h){if(i.children[h]==e)break;b+=i.children[h].chunkSize()}return b}function Wb(b,e){var i=0;a:do{for(var h=0,k=b.children.length;h<k;++h){var p=b.children[h],q=p.height;if(e<q){b=p;continue a}e-=q;i+=p.chunkSize()}return i}while(!b.lines);h=0;for(k=b.lines.length;h<k;++h){p=b.lines[h].height;if(e<p)break;e-=p}return i+h}function Xb(b,e){var i=0;a:do{for(var h=0,k=b.children.length;h<k;++h){var p=b.children[h],q=p.chunkSize();if(e<q){b=p;continue a}e-=q;i+=p.height}return i}while(!b.lines);
for(h=0;h<e;++h)i+=b.lines[h].height;return i}function qc(){this.time=0;this.done=[];this.undone=[];this.compound=0;this.closed=false}function nd(){Db(this)}function Xa(b){if(!b.stop)b.stop=nd;return b}function R(b){if(b.preventDefault)b.preventDefault();else b.returnValue=false}function Xc(b){if(b.stopPropagation)b.stopPropagation();else b.cancelBubble=true}function Db(b){R(b);Xc(b)}function Uc(b){if(b.which)return b.which;else if(b.button&1)return 1;else if(b.button&2)return 3;else if(b.button&
4)return 2}function X(b,e){return b.override&&b.override.hasOwnProperty(e)?b.override[e]:b[e]}function E(b,e,i,h){if(typeof b.addEventListener=="function"){b.addEventListener(e,i,false);if(h)return function(){b.removeEventListener(e,i,false)}}else{var k=function(p){i(p||window.event)};b.attachEvent("on"+e,k);if(h)return function(){b.detachEvent("on"+e,k)}}}function oc(){this.id=null}function rc(b,e,i){if(e==null){e=b.search(/[^\s\u00a0]/);if(e==-1)e=b.length}for(var h=0,k=0;h<e;++h)if(b.charAt(h)==
"\t")k+=i-k%i;else++k;return k}function Na(b,e){for(var i=b.ownerDocument.body,h=0,k=0,p=false,q=b;q;q=q.offsetParent){var y=q.offsetLeft,G=q.offsetTop;if(q==i){h+=Math.abs(y);k+=Math.abs(G)}else{h+=y;k+=G}if(y=e){y=q.currentStyle?q.currentStyle:window.getComputedStyle(q,null);y=y.position=="fixed"}if(y)p=true}i=e&&!p?null:i;for(q=b.parentNode;q!=i;q=q.parentNode)if(q.scrollLeft!=null){h-=q.scrollLeft;k-=q.scrollTop}return{left:h,top:k}}function yc(b){if(kc){b.selectionStart=0;b.selectionEnd=b.value.length}else b.select()}
function L(b,e){return b.line==e.line&&b.ch==e.ch}function ma(b,e){return b.line<e.line||b.line==e.line&&b.ch<e.ch}function Ia(b){Pa.textContent=b;return Pa.innerHTML}function Zc(b,e){if(!e)return 0;if(!b)return e.length;for(var i=b.length,h=e.length;i>=0&&h>=0;--i,--h)if(b.charAt(i)!=e.charAt(h))break;return h+1}function nb(b,e){if(b.indexOf)return b.indexOf(e);for(var i=0,h=b.length;i<h;++i)if(b[i]==e)return i;return-1}function bc(b){return/\w/.test(b)||b.toUpperCase()!=b.toLowerCase()}B.defaults=
{value:"",mode:null,theme:"default",indentUnit:2,indentWithTabs:false,smartIndent:true,tabSize:4,keyMap:"default",extraKeys:null,electricChars:true,autoClearEmptyLines:false,onKeyEvent:null,onDragEvent:null,lineWrapping:false,lineNumbers:false,gutter:false,fixedGutter:false,firstLineNumber:1,readOnly:false,dragDrop:true,onChange:null,onCursorActivity:null,onGutterClick:null,onHighlightComplete:null,onUpdate:null,onFocus:null,onBlur:null,onScroll:null,matchBrackets:false,workTime:100,workDelay:200,
pollInterval:100,undoDepth:40,tabindex:null,autofocus:null};var kc=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),Pb=kc||/Mac/.test(navigator.platform);/Win/.test(navigator.platform);var Lb=B.modes={},Va=B.mimeModes={};B.defineMode=function(b,e){if(!B.defaults.mode&&b!="null")B.defaults.mode=b;if(arguments.length>2){e.dependencies=[];for(var i=2;i<arguments.length;++i)e.dependencies.push(arguments[i])}Lb[b]=e};B.defineMIME=function(b,e){Va[b]=e};B.resolveMode=function(b){if(typeof b==
"string"&&Va.hasOwnProperty(b))b=Va[b];else if(typeof b=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return B.resolveMode("application/xml");return typeof b=="string"?{name:b}:b||{name:"null"}};B.getMode=function(b,e){e=B.resolveMode(e);var i=Lb[e.name];if(!i)return B.getMode(b,"text/plain");return i(b,e)};B.listModes=function(){var b=[],e;for(e in Lb)Lb.propertyIsEnumerable(e)&&b.push(e);return b};B.listMIMEs=function(){var b=[],e;for(e in Va)Va.propertyIsEnumerable(e)&&b.push({mime:e,mode:Va[e]});
return b};var Ib=B.extensions={};B.defineExtension=function(b,e){Ib[b]=e};var uc=B.commands={selectAll:function(b){b.setSelection({line:0,ch:0},{line:b.lineCount()-1})},killLine:function(b){var e=b.getCursor(true),i=b.getCursor(false),h=!L(e,i);!h&&b.getLine(e.line).length==e.ch?b.replaceRange("",e,{line:e.line+1,ch:0}):b.replaceRange("",e,h?i:{line:e.line})},deleteLine:function(b){var e=b.getCursor().line;b.replaceRange("",{line:e,ch:0},{line:e})},undo:function(b){b.undo()},redo:function(b){b.redo()},
goDocStart:function(b){b.setCursor(0,0,true)},goDocEnd:function(b){b.setSelection({line:b.lineCount()-1},null,true)},goLineStart:function(b){b.setCursor(b.getCursor().line,0,true)},goLineStartSmart:function(b){var e=b.getCursor(),i=b.getLine(e.line);i=Math.max(0,i.search(/\S/));b.setCursor(e.line,e.ch<=i&&e.ch?0:i,true)},goLineEnd:function(b){b.setSelection({line:b.getCursor().line},null,true)},goLineUp:function(b){b.moveV(-1,"line")},goLineDown:function(b){b.moveV(1,"line")},goPageUp:function(b){b.moveV(-1,
"page")},goPageDown:function(b){b.moveV(1,"page")},goCharLeft:function(b){b.moveH(-1,"char")},goCharRight:function(b){b.moveH(1,"char")},goColumnLeft:function(b){b.moveH(-1,"column")},goColumnRight:function(b){b.moveH(1,"column")},goWordLeft:function(b){b.moveH(-1,"word")},goWordRight:function(b){b.moveH(1,"word")},delCharLeft:function(b){b.deleteH(-1,"char")},delCharRight:function(b){b.deleteH(1,"char")},delWordLeft:function(b){b.deleteH(-1,"word")},delWordRight:function(b){b.deleteH(1,"word")},
indentAuto:function(b){b.indentSelection("smart")},indentMore:function(b){b.indentSelection("add")},indentLess:function(b){b.indentSelection("subtract")},insertTab:function(b){b.replaceSelection("\t","end")},defaultTab:function(b){b.somethingSelected()?b.indentSelection("add"):b.replaceSelection("\t","end")},transposeChars:function(b){var e=b.getCursor(),i=b.getLine(e.line);e.ch>0&&e.ch<i.length-1&&b.replaceRange(i.charAt(e.ch)+i.charAt(e.ch-1),{line:e.line,ch:e.ch-1},{line:e.line,ch:e.ch+1})},newlineAndIndent:function(b){b.replaceSelection("\n",
"end");b.indentLine(b.getCursor().line)},toggleOverwrite:function(b){b.toggleOverwrite()}},va=B.keyMap={};va.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharRight",Backspace:"delCharLeft",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite"};va.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo",
"Ctrl-Home":"goDocStart","Alt-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goWordLeft","Ctrl-Right":"goWordRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delWordLeft","Ctrl-Delete":"delWordRight","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore",fallthrough:"basic"};va.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine",
"Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goWordLeft","Alt-Right":"goWordRight","Cmd-Left":"goLineStart","Cmd-Right":"goLineEnd","Alt-Backspace":"delWordLeft","Ctrl-Alt-Backspace":"delWordRight","Alt-Delete":"delWordRight","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore",fallthrough:["basic","emacsy"]};
va["default"]=Pb?va.macDefault:va.pcDefault;va.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageUp","Shift-Ctrl-V":"goPageDown","Ctrl-D":"delCharRight","Ctrl-H":"delCharLeft","Alt-D":"delWordRight","Alt-Backspace":"delWordLeft","Ctrl-K":"killLine","Ctrl-T":"transposeChars"};B.fromTextArea=function(b,e){function i(){b.value=q.getValue()}e||(e={});e.value=
b.value;if(!e.tabindex&&b.tabindex)e.tabindex=b.tabindex;if(e.autofocus==null&&b.getAttribute("autofocus")!=null)e.autofocus=true;if(b.form){var h=E(b.form,"submit",i,true);if(typeof b.form.submit=="function"){var k=b.form.submit,p=function(){i();b.form.submit=k;b.form.submit();b.form.submit=p};b.form.submit=p}}b.style.display="none";var q=B(function(y){b.parentNode.insertBefore(y,b.nextSibling)},e);q.save=i;q.getTextArea=function(){return b};q.toTextArea=function(){i();b.parentNode.removeChild(q.getWrapperElement());
b.style.display="";if(b.form){h();if(typeof b.form.submit=="function")b.form.submit=k}};return q};B.copyState=Ta;B.startState=jc;Jb.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==0},peek:function(){return this.string.charAt(this.pos)},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(b){var e=this.string.charAt(this.pos);if(typeof b=="string"?e==b:e&&(b.test?b.test(e):b(e))){++this.pos;return e}},eatWhile:function(b){for(var e=
this.pos;this.eat(b););return this.pos>e},eatSpace:function(){for(var b=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>b},skipToEnd:function(){this.pos=this.string.length},skipTo:function(b){b=this.string.indexOf(b,this.pos);if(b>-1){this.pos=b;return true}},backUp:function(b){this.pos-=b},column:function(){return rc(this.string,this.start,this.tabSize)},indentation:function(){return rc(this.string,null,this.tabSize)},match:function(b,e,i){if(typeof b=="string"){if((i?
this.string.toLowerCase():this.string).indexOf(i?b.toLowerCase():b,this.pos)==this.pos){if(e!==false)this.pos+=b.length;return true}}else{if((b=this.string.slice(this.pos).match(b))&&e!==false)this.pos+=b[0].length;return b}},current:function(){return this.string.slice(this.start,this.pos)}};B.StringStream=Jb;Bb.prototype={attach:function(b){this.marker.set.push(b)},detach:function(b){b=nb(this.marker.set,b);b>-1&&this.marker.set.splice(b,1)},split:function(b,e){if(this.to<=b&&this.to!=null)return null;
return new Bb(this.from<b||this.from==null?null:this.from-b+e,this.to==null?null:this.to-b+e,this.style,this.marker)},dup:function(){return new Bb(null,null,this.style,this.marker)},clipTo:function(b,e,i,h,k){if(b&&h>this.from&&(h<this.to||this.to==null))this.from=null;else if(this.from!=null&&this.from>=e)this.from=Math.max(h,this.from)+k;if(i&&(e<this.to||this.to==null)&&(e>this.from||this.from==null))this.to=null;else if(this.to!=null&&this.to>e)this.to=h<this.to?this.to+k:e},isDead:function(){return this.from!=
null&&this.to!=null&&this.from>=this.to},sameSet:function(b){return this.marker==b.marker}};Wc.prototype={attach:function(b){this.line=b},detach:function(b){if(this.line==b)this.line=null},split:function(b,e){if(b<this.from){this.from=this.to=this.from-b+e;return this}},isDead:function(){return this.from>this.to},clipTo:function(b,e,i,h,k){if((b||e<this.from)&&(i||h>this.to)){this.from=0;this.to=-1}else if(this.from>e)this.from=this.to=Math.max(h,this.from)+k},sameSet:function(){return false},find:function(){if(!this.line||
!this.line.parent)return null;return{line:Sa(this.line),ch:this.from}},clear:function(){if(this.line){var b=nb(this.line.marked,this);b!=-1&&this.line.marked.splice(b,1);this.line=null}}};Ba.inheritMarks=function(b,e){var i=new Ba(b),h=e&&e.marked;if(h)for(var k=0;k<h.length;++k)if(h[k].to==null&&h[k].style){var p=i.marked||(i.marked=[]),q=h[k].dup();p.push(q);q.attach(i)}return i};Ba.prototype={replace:function(b,e,i){var h=[],k=this.marked,p=e==null?this.text.length:e;Kb(0,b,this.styles,h);i&&h.push(i,
null);Kb(p,this.text.length,this.styles,h);this.styles=h;this.text=this.text.slice(0,b)+i+this.text.slice(p);this.stateAfter=null;if(k){i=i.length-(p-b);for(h=0;h<k.length;++h){var q=k[h];q.clipTo(b==null,b||0,e==null,p,i);if(q.isDead()){q.detach(this);k.splice(h--,1)}}}},split:function(b,e){var i=[e,null],h=this.marked;Kb(b,this.text.length,this.styles,i);i=new Ba(e+this.text.slice(b),i);if(h)for(var k=0;k<h.length;++k){var p=h[k],q=p.split(b,e.length);if(q){if(!i.marked)i.marked=[];i.marked.push(q);
q.attach(i);q==p&&h.splice(k--,1)}}return i},append:function(b){var e=this.text.length,i=b.marked,h=this.marked;this.text+=b.text;Kb(0,b.text.length,b.styles,this.styles);if(h)for(b=0;b<h.length;++b)if(h[b].to==null)h[b].to=e;if(i&&i.length){if(!h)this.marked=h=[];b=0;a:for(;b<i.length;++b){var k=i[b];if(!k.from)for(var p=0;p<h.length;++p){var q=h[p];if(q.to==e&&q.sameSet(k)){q.to=k.to==null?null:k.to+e;if(q.isDead()){q.detach(this);i.splice(b--,1)}continue a}}h.push(k);k.attach(this);k.from+=e;if(k.to!=
null)k.to+=e}}},fixMarkEnds:function(b){var e=this.marked;b=b.marked;if(e)for(var i=0;i<e.length;++i){var h=e[i],k=h.to==null;if(k&&b)for(var p=0;p<b.length;++p)if(b[p].sameSet(h)){k=false;break}if(k)h.to=this.text.length}},fixMarkStarts:function(){var b=this.marked;if(b)for(var e=0;e<b.length;++e)if(b[e].from==null)b[e].from=0},addMark:function(b){b.attach(this);if(this.marked==null)this.marked=[];this.marked.push(b);this.marked.sort(function(e,i){return(e.from||0)-(i.from||0)})},highlight:function(b,
e,i){i=new Jb(this.text,i);var h=this.styles,k=0,p=false,q=h[0],y;for(this.text==""&&b.blankLine&&b.blankLine(e);!i.eol();){var G=b.token(i,e),aa=this.text.slice(i.start,i.pos);i.start=i.pos;if(k&&h[k-1]==G)h[k-2]+=aa;else if(aa){if(!p&&(h[k+1]!=G||k&&h[k-2]!=y))p=true;h[k++]=aa;h[k++]=G;y=q;q=h[k]}if(i.pos>5E3){h[k++]=this.text.slice(i.pos);h[k++]=null;break}}if(h.length!=k){h.length=k;p=true}if(k&&h[k-2]!=y)p=true;return p||(h.length<5&&this.text.length<10?null:false)},getTokenAt:function(b,e,i){for(var h=
new Jb(this.text);h.pos<i&&!h.eol();){h.start=h.pos;var k=b.token(h,e)}return{start:h.start,end:h.pos,string:h.current(),className:k||null,state:e}},indentation:function(b){return rc(this.text,null,b)},getHTML:function(b,e,i,h){function k(A,J){if(A){if(y&&Ka&&A.charAt(0)==" ")A="\u00a0"+A.slice(1);y=false;if(A.indexOf("\t")==-1){G+=A.length;var ia=Ia(A)}else{ia="";for(var W=0;;){var La=A.indexOf("\t",W);if(La==-1){ia+=Ia(A.slice(W));G+=A.length-W;break}else{G+=La-W;var fb=b(G);ia+=Ia(A.slice(W,La))+
fb.html;G+=fb.width;W=La+1}}}J?q.push('<span class="',J,'">',ia,"</span>"):q.push(ia)}}function p(A){if(!A)return null;return"cm-"+A.replace(/ +/g," cm-")}var q=[],y=true,G=0,aa=k;if(e!=null){var ba=0,Za='<span id="'+i+'">';aa=function(A,J){var ia=A.length;if(e>=ba&&e<ba+ia){if(e>ba){k(A.slice(0,e-ba),J);h&&q.push("<wbr>")}q.push(Za);var W=e-ba;k(window.opera?A.slice(W,W+1):A.slice(W),J);q.push("</span>");window.opera&&k(A.slice(W+1),J);e--;ba+=ia}else{ba+=ia;k(A,J);if(ba==e&&ba==pa)q.push(Za+" </span>");
else if(ba>e+10&&/\s/.test(A))aa=function(){}}}}i=this.styles;var S=this.text,fa=this.marked,pa=S.length;if(!S&&e==null)aa(" ");else if(!fa||!fa.length)for(var T=S=0;T<pa;S+=2){var qa=i[S],eb=i[S+1],N=qa.length;if(T+N>pa)qa=qa.slice(0,pa-T);T+=N;aa(qa,p(eb))}else{var Q=0;S=0;T="";var Ea=fa[0].from||0,sa=[],ka=0;for(qa=function(){for(var A;ka<fa.length&&((A=fa[ka]).from==Q||A.from==null);){A.style!=null&&sa.push(A);++ka}Ea=ka<fa.length?fa[ka].from:Infinity;for(A=0;A<sa.length;++A){var J=sa[A].to||
Infinity;if(J==Q)sa.splice(A--,1);else Ea=Math.min(J,Ea)}};Q<pa;){Ea==Q&&qa();for(N=Math.min(pa,Ea);;){if(T){for(var za=Q+T.length,na=eb,ya=0;ya<sa.length;++ya)na=(na?na+" ":"")+sa[ya].style;aa(za>N?T.slice(0,N-Q):T,na);if(za>=N){T=T.slice(N-Q);Q=N;break}Q=za}T=i[S++];eb=p(i[S++])}}}return q.join("")},cleanUp:function(){this.parent=null;if(this.marked)for(var b=0,e=this.marked.length;b<e;++b)this.marked[b].detach(this)}};Gb.prototype={chunkSize:function(){return this.lines.length},remove:function(b,
e,i){for(var h=b,k=b+e;h<k;++h){var p=this.lines[h];this.height-=p.height;p.cleanUp();if(p.handlers)for(var q=0;q<p.handlers.length;++q)i.push(p.handlers[q])}this.lines.splice(b,e)},collapse:function(b){b.splice.apply(b,[b.length,0].concat(this.lines))},insertHeight:function(b,e,i){this.height+=i;this.lines=this.lines.slice(0,b).concat(e).concat(this.lines.slice(b));b=0;for(i=e.length;b<i;++b)e[b].parent=this},iterN:function(b,e,i){for(e=b+e;b<e;++b)if(i(this.lines[b]))return true}};Fb.prototype=
{chunkSize:function(){return this.size},remove:function(b,e,i){this.size-=e;for(var h=0;h<this.children.length;++h){var k=this.children[h],p=k.chunkSize();if(b<p){var q=Math.min(e,p-b),y=k.height;k.remove(b,q,i);this.height-=y-k.height;if(p==q){this.children.splice(h--,1);k.parent=null}if((e-=q)==0)break;b=0}else b-=p}if(this.size-e<25){b=[];this.collapse(b);this.children=[new Gb(b)];this.children[0].parent=this}},collapse:function(b){for(var e=0,i=this.children.length;e<i;++e)this.children[e].collapse(b)},
insert:function(b,e){for(var i=0,h=0,k=e.length;h<k;++h)i+=e[h].height;this.insertHeight(b,e,i)},insertHeight:function(b,e,i){this.size+=e.length;this.height+=i;for(var h=0,k=this.children.length;h<k;++h){var p=this.children[h],q=p.chunkSize();if(b<=q){p.insertHeight(b,e,i);if(p.lines&&p.lines.length>50){for(;p.lines.length>50;){b=p.lines.splice(p.lines.length-25,25);b=new Gb(b);p.height-=b.height;this.children.splice(h+1,0,b);b.parent=this}this.maybeSpill()}break}b-=q}},maybeSpill:function(){if(!(this.children.length<=
10)){var b=this;do{var e=b.children.splice(b.children.length-5,5);e=new Fb(e);if(b.parent){b.size-=e.size;b.height-=e.height;var i=nb(b.parent.children,b);b.parent.children.splice(i+1,0,e)}else{i=new Fb(b.children);i.parent=b;b.children=[i,e];b=i}e.parent=b.parent}while(b.children.length>10);b.parent.maybeSpill()}},iter:function(b,e,i){this.iterN(b,e-b,i)},iterN:function(b,e,i){for(var h=0,k=this.children.length;h<k;++h){var p=this.children[h],q=p.chunkSize();if(b<q){q=Math.min(e,q-b);if(p.iterN(b,
q,i))return true;if((e-=q)==0)break;b=0}else b-=q}}};qc.prototype={addChange:function(b,e,i){this.undone.length=0;var h=+new Date,k=this.done[this.done.length-1],p=k&&k[k.length-1],q=h-this.time;if(this.compound&&k&&!this.closed)k.push({start:b,added:e,old:i});else if(q>400||!p||this.closed||p.start>b+i.length||p.start+p.added<b){this.done.push([{start:b,added:e,old:i}]);this.closed=false}else{k=Math.max(0,p.start-b);q=Math.max(0,b+i.length-(p.start+p.added));for(var y=k;y>0;--y)p.old.unshift(i[y-
1]);for(y=q;y>0;--y)p.old.push(i[i.length-y]);if(k)p.start=b;p.added+=e-(i.length-k-q)}this.time=h},startCompound:function(){if(!this.compound++)this.closed=true},endCompound:function(){if(!--this.compound)this.closed=true}};B.e_stop=Db;B.e_preventDefault=R;B.e_stopPropagation=Xc;B.connect=E;oc.prototype={set:function(b,e){clearTimeout(this.id);this.id=setTimeout(e,b)}};var vc=B.Pass={toString:function(){return"CodeMirror.Pass"}},Ya=/gecko\/\d{7}/i.test(navigator.userAgent),Ka=/MSIE \d/.test(navigator.userAgent),
Oc=/MSIE [1-8]\b/.test(navigator.userAgent),dd=Ka&&document.documentMode==5,lc=/WebKit\//.test(navigator.userAgent),tc=/Chrome\//.test(navigator.userAgent),od=/Apple Computer/.test(navigator.vendor),mc=/KHTML\//.test(navigator.userAgent),md=function(){if(Oc)return false;var b=document.createElement("div");return"draggable"in b||"dragDrop"in b}();(function(){var b=document.createElement("textarea");b.value="foo\nbar";if(b.value.indexOf("\r")>-1)return"\r\n";return"\n"})();var Cb=/^$/;if(Ya)Cb=/$'/;
else if(od)Cb=/\-[^ \-?]|\?[^ !'\"\),.\-\/:;\?\]\}]/;else if(tc)Cb=/\-[^ \-\.?]|\?[^ \-\.?\]\}:;!'\"\),\/]|[\.!\"#&%\)*+,:;=>\]|\}~][\(\{\[<]|\$'/;if(document.documentElement.getBoundingClientRect!=null)Na=function(b,e){try{var i=b.getBoundingClientRect();i={top:i.top,left:i.left}}catch(h){i={top:0,left:0}}if(!e)if(window.pageYOffset==null){var k=document.documentElement||document.body.parentNode;if(k.scrollTop==null)k=document.body;i.top+=k.scrollTop;i.left+=k.scrollLeft}else{i.top+=window.pageYOffset;
i.left+=window.pageXOffset}return i};var Pa=document.createElement("pre");if(Ia("a")=="\na")Ia=function(b){Pa.textContent=b;return Pa.innerHTML.slice(1)};else if(Ia("\t")!="\t")Ia=function(b){Pa.innerHTML="";Pa.appendChild(document.createTextNode(b));return Pa.innerHTML};B.htmlEscape=Ia;var Wa="\n\nb".split(/\n/).length!=3?function(b){for(var e=0,i,h=[];(i=b.indexOf("\n",e))>-1;){h.push(b.slice(e,b.charAt(i-1)=="\r"?i-1:i));e=i+1}h.push(b.slice(e));return h}:function(b){return b.split(/\r?\n/)};B.splitLines=
Wa;var ad=window.getSelection?function(b){try{return b.selectionStart!=b.selectionEnd}catch(e){return false}}:function(b){try{var e=b.ownerDocument.selection.createRange()}catch(i){}if(!e||e.parentElement()!=b)return false;return e.compareEndPoints("StartToEnd",e)!=0};B.defineMode("null",function(){return{token:function(b){b.skipToEnd()}}});B.defineMIME("text/plain","null");var Ja={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",
33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",91:"Mod",92:"Mod",93:"Mod",127:"Delete",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63276:"PageUp",63277:"PageDown",63275:"End",63273:"Home",63234:"Left",63232:"Up",63235:"Right",63233:"Down",63302:"Insert",63272:"Delete"};B.keyNames=Ja;(function(){for(var b=0;b<10;b++)Ja[b+48]=String(b);for(b=65;b<=90;b++)Ja[b]=String.fromCharCode(b);
for(b=1;b<=12;b++)Ja[b+111]=Ja[b+63235]="F"+b})();return B}();
